<div class="max-w-2xl mx-auto space-y-6">
    <div class="text-center">
        <h2 class="text-2xl font-bold text-slate-800">Send Feedback</h2>
        <p class="text-slate-500 mt-2">Help us improve TruCar</p>
    </div>

    <form [formGroup]="feedbackForm" (ngSubmit)="onSubmit()"
        class="bg-white rounded-2xl shadow-sm border border-slate-100 p-8 space-y-6">
        <div>
            <label class="block text-sm font-medium text-slate-700 mb-1">Feedback Type</label>
            <select formControlName="type"
                class="w-full px-4 py-2 rounded-lg border border-slate-200 focus:border-blue-500 focus:ring-2 focus:ring-blue-500/20 outline-none transition-all">
                <option value="bug">Report a Bug</option>
                <option value="feature">Feature Request</option>
                <option value="general">General Feedback</option>
            </select>
        </div>

        <div>
            <label class="block text-sm font-medium text-slate-700 mb-1">Message</label>
            <textarea formControlName="message" rows="5"
                class="w-full px-4 py-2 rounded-lg border border-slate-200 focus:border-blue-500 focus:ring-2 focus:ring-blue-500/20 outline-none transition-all"
                placeholder="Tell us what you think..."></textarea>
        </div>

        <div>
            <label class="block text-sm font-medium text-slate-700 mb-1">Rating</label>
            <div class="flex gap-2">
                <button type="button" *ngFor="let star of [1,2,3,4,5]" (click)="feedbackForm.patchValue({rating: star})"
                    [class.text-yellow-400]="star <= feedbackForm.get('rating')?.value"
                    class="text-slate-300 hover:text-yellow-400 transition-colors">
                    <span class="material-icons text-2xl">star</span>
                </button>
            </div>
        </div>

        <button type="submit" [disabled]="feedbackForm.invalid"
            class="w-full py-3 bg-blue-600 text-white font-bold rounded-lg hover:bg-blue-700 shadow-lg shadow-blue-600/30 transition-all transform hover:scale-[1.02] active:scale-[0.98] disabled:opacity-70 disabled:cursor-not-allowed">
            Send Feedback
        </button>

        @if (sent()) {
        <div class="bg-green-100 text-green-700 p-4 rounded-xl flex items-center gap-2 animate-fade-in justify-center">
            <span class="material-icons">check_circle</span>
            <span class="font-medium">Thank you for your feedback!</span>
        </div>
        }
    </form>
</div>